<!DOCTYPE html>
<html ng-controller="AppCtrl">
	<head>
		<title ng-bind="page.title">Demo</title>

		<!--createjs-->
		<script src="../bower_components/EaselJS/lib/easeljs-0.8.2.min.js"></script>
		<script src="../bower_components/TweenJS/lib/tweenjs-0.6.2.min.js"></script>
		<script src="../bower_components/SoundJS/lib/soundjs-0.6.2.min.js"></script>
		<script src="../bower_components/PreloadJS/lib/preloadjs-0.6.2.min.js"></script>

		<!--gbjs-->
		<script src="../src/display/BitmapCard.js"></script>
		<script src="../src/display/Player.js"></script>

		<!--container-->
		<script src="../src/display/CardContainer.js"></script>
		<script src="../src/display/DeskContainer.js"></script>
		<script src="../src/display/ChairContainer.js"></script>
		<script src="../src/display/Container.js"></script>

		<!--bitmap-->
		<script src="../src/display/BitmapAvatar.js"></script>
		<script src="../src/display/BitmapCard.js"></script>
		<script src="../src/display/BitmapDesk.js"></script>

		<!--text-->
		<script src="../src/display/TextUsername.js"></script>
		<script src="../src/display/TextMoney.js"></script>
	</head>
	<body onload="init()">
		<button onclick="cardCtrl.sort()">Sort</button>
		<canvas id="testCanvas" width="960" height="400"></canvas>
	</body>


	<script type="text/javascript">
		var stage, cardContainer, cardCtrl;

		cardCtrl = {
			sort: function() {
				cardContainer.sortChildren(function(obj1, obj2, options) {
					console.log(obj2, obj1);
				});
			}
		}

		function init() {
			stage = new createjs.Stage("testCanvas");
			createjs.Ticker.setFPS(0);
			stage.enableMouseOver();

			cardContainer = new gbjs.CardContainer();
			stage.addChild(cardContainer);
			
			for (var i = 13; i >= 0; i--) {
				addCard('3b');
			}

		}

		function addCard(card) {
			var bitmap = new gbjs.BitmapCard("card/"+card+".png", 'pointer');
			bitmap.x = cardContainer.numChildren * 50 + 10;
			bitmap.y = stage.canvas.height - 130;
			bitmap.setHoverShadow("#666", 5, 5, 10);
			cardContainer.addChild(bitmap);
		}

		createjs.Ticker.addEventListener("tick", function() {
			stage.update();
		});
	</script>
</html>